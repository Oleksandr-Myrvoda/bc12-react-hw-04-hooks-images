{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","App.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","services/apiService.js","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","App.js","index.js"],"names":["module","exports","fetchHits","a","searchQuery","currentPage","axios","get","response","data","hits","images","modalRootRef","document","querySelector","Modal","onClose","children","useEffect","onEscPress","e","code","console","log","window","addEventListener","removeEventListener","createPortal","className","styles","backdrop","onClick","target","currentTarget","modal","header","type","closeBtn","content","ImageGalleryItem","smallImage","largeImage","alt","src","ImageGalleryItemImage","ImageGallery","map","index","id","webformatURL","largeImageURL","tags","Spinner","loader","color","height","width","timeout","Searchbar","onSubmit","useState","setSearchQuery","SearchForm","event","preventDefault","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","Button","MODAL","App","openedModal","setOpenedModal","setHits","setCurrentPage","setLargeImage","isLoading","setIsLoading","setError","options","then","prevHits","catch","error","message","finally","scrollTo","top","documentElement","scrollHeight","behavior","getDataApi","shouldRenderLoadMoreButton","length","app","query","img","prevCurrentPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.55b99d4d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3uIKE\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1Y9BO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2DjWA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2BjUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__yRC2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3G1Pv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__UCgz6\",\"modal\":\"Modal_modal__3UcoR\",\"header\":\"Modal_header__1yct6\",\"closeBtn\":\"Modal_closeBtn__3-r6G\",\"content\":\"Modal_content__2Ujot\",\"lead\":\"Modal_lead__3GX0P\",\"imageWrapper\":\"Modal_imageWrapper__1L2nw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__30TNO\",\"SearchForm\":\"Searchbar_SearchForm__1nIsP\",\"SearchFormButton\":\"Searchbar_SearchFormButton__sptBK\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3bRyK\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3DTn7\"};","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"20731872-71a610166f6b50a9cc8e22574\";\r\nconst perPage = 12;\r\n\r\nconst fetchHits = async ({ searchQuery = \"\", currentPage = 1 }) => {\r\n  try {\r\n    let response = await axios.get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n    );\r\n    let images = await response.data.hits;\r\n\r\n    return images;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default fetchHits;\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRootRef = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ onClose, children }) => {\r\n  useEffect(() => {\r\n    const onEscPress = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        console.log(\"Escape\");\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", onEscPress);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onEscPress);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.backdrop} onClick={handleBackdropClick}>\r\n      <div className={styles.modal}>\r\n        <header className={styles.header}>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.closeBtn}\r\n            onClick={onClose}\r\n            aria-label=\"Close\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </header>\r\n\r\n        <div className={styles.content}>{children}</div>\r\n      </div>\r\n    </div>,\r\n    modalRootRef\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  // icon: PropTypes.string.isRequired, //from props\r\n  // title: PropTypes.string.isRequired, //from props\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n\r\n// class Modal extends Component {\r\n//   componentDidMount() {\r\n//     window.addEventListener(\"keydown\", this.onEscPress);\r\n//   }\r\n\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener(\"keydown\", this.onEscPress);\r\n//   }\r\n\r\n//   onEscPress = (e) => {\r\n//     if (e.code === \"Escape\") {\r\n//       console.log(\"Escape\");\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n\r\n//   handleBackdropClick = (e) => {\r\n//     if (e.target === e.currentTarget) {\r\n//       this.props.onClose();\r\n//     }\r\n//   };\r\n\r\n//   render() {\r\n//     const { onClose, children } = this.props;\r\n\r\n//     return createPortal(\r\n//       <div className={styles.backdrop} onClick={this.handleBackdropClick}>\r\n//         <div className={styles.modal}>\r\n//           <header className={styles.header}>\r\n//             <button\r\n//               type=\"button\"\r\n//               className={styles.closeBtn}\r\n//               onClick={onClose}\r\n//               aria-label=\"Close\"\r\n//             >\r\n//               &times;\r\n//             </button>\r\n//           </header>\r\n\r\n//           <div className={styles.content}>{children}</div>\r\n//         </div>\r\n//       </div>,\r\n//       modalRootRef\r\n//     );\r\n//   }\r\n// }\r\n\r\n// Modal.propTypes = {\r\n//   onClose: PropTypes.func.isRequired,\r\n//   // icon: PropTypes.string.isRequired, //from props\r\n//   // title: PropTypes.string.isRequired, //from props\r\n//   children: PropTypes.node.isRequired,\r\n// };\r\n\r\n// export default Modal;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ smallImage, largeImage, onClick, alt }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        onClick={() => onClick(largeImage)}\r\n        src={smallImage}\r\n        alt={alt}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  smallImage: PropTypes.string.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ hits, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL, tags }, index) => (\r\n        <ImageGalleryItem\r\n          key={id + index}\r\n          smallImage={webformatURL}\r\n          largeImage={largeImageURL}\r\n          alt={tags}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <Loader\r\n      className={styles.loader}\r\n      type=\"ThreeDots\"\r\n      color=\"#3f51b5\"\r\n      height={120}\r\n      width={120}\r\n      timeout={3000}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setSearchQuery(event.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(searchQuery);\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={searchQuery}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      <span>Loade more</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import { useState, useEffect } from \"react\";\nimport fetchHits from \"./services/apiService\";\nimport Modal from \"./components/Modal\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Spinner from \"./components/Loader\";\nimport Searchbar from \"./components/Searchbar\";\nimport Button from \"./components/Button\";\n\nimport styles from \"./App.module.css\";\n\nconst MODAL = {\n  NONE: \"none\",\n  OPEN: \"open\",\n  // EDIT: \"edit\",\n  // DELETE: \"delete\",\n};\n\nconst App = () => {\n  const [openedModal, setOpenedModal] = useState(MODAL.NONE);\n  const [hits, setHits] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(null);\n  const [largeImage, setLargeImage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSearch = (query) => {\n    if (query === searchQuery) return;\n\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setHits([]);\n  };\n\n  const openModal = (img) => {\n    setOpenedModal(MODAL.OPEN);\n    setLargeImage(img);\n  };\n\n  const closeModal = () => setOpenedModal(MODAL.NONE);\n  const search = () => setCurrentPage((prevCurrentPage) => prevCurrentPage + 1);\n\n  useEffect(() => {\n    if (!searchQuery) return;\n\n    const getDataApi = () => {\n      const options = { currentPage, searchQuery };\n      setIsLoading(true);\n\n      fetchHits(options)\n        .then((hits) => {\n          setHits((prevHits) => [...prevHits, ...hits]);\n        })\n        .catch((error) => setError(error.message))\n        .finally(() => {\n          setIsLoading(false);\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        });\n    };\n    getDataApi();\n  }, [currentPage, searchQuery]);\n\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n  return (\n    <div className={styles.app}>\n      <Searchbar onSubmit={handleSearch} />\n      {hits.length > 0 && <ImageGallery hits={hits} onClick={openModal} />}\n      {isLoading && <Spinner />}\n      {shouldRenderLoadMoreButton && <Button onClick={search} />}\n\n      {openedModal === MODAL.OPEN && (\n        <Modal onClose={closeModal} largeImage={largeImage}>\n          <img src={largeImage} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}