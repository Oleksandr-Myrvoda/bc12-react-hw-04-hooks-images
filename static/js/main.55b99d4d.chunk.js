(this["webpackJsonpbc12-react-hw-04-hooks-images"]=this["webpackJsonpbc12-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3uIKE",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1Y9BO"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2DjWA"}},28:function(e,t,a){e.exports={loader:"Loader_loader__2BjUV"}},29:function(e,t,a){e.exports={Button:"Button_Button__yRC2t"}},30:function(e,t,a){e.exports={app:"App_app__3G1Pv"}},35:function(e,t,a){},5:function(e,t,a){e.exports={backdrop:"Modal_backdrop__UCgz6",modal:"Modal_modal__3UcoR",header:"Modal_header__1yct6",closeBtn:"Modal_closeBtn__3-r6G",content:"Modal_content__2Ujot",lead:"Modal_lead__3GX0P",imageWrapper:"Modal_imageWrapper__1L2nw"}},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__30TNO",SearchForm:"Searchbar_SearchForm__1nIsP",SearchFormButton:"Searchbar_SearchFormButton__sptBK",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3bRyK",SearchFormInput:"Searchbar_SearchFormInput__3DTn7"}},76:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(10),o=a.n(r),l=(a(35),a(15)),s=a(4),u=a(13),i=a.n(u),m=a(24),b=a(25),h=a.n(b),j=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,c,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchQuery,n=void 0===a?"":a,c=t.currentPage,r=void 0===c?1:c,e.prev=1,e.next=4,h.a.get("".concat("https://pixabay.com/api/","?q=").concat(n,"&page=").concat(r,"&key=").concat("20731872-71a610166f6b50a9cc8e22574","&image_type=photo&orientation=horizontal&per_page=").concat(12));case 4:return o=e.sent,e.next=7,o.data.hits;case 7:return l=e.sent,e.abrupt("return",l);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),d=j,p=a(5),_=a.n(p),f=a(0),g=document.querySelector("#modal-root"),O=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&(console.log("Escape"),t())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(f.jsx)("div",{className:_.a.backdrop,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(f.jsxs)("div",{className:_.a.modal,children:[Object(f.jsx)("header",{className:_.a.header,children:Object(f.jsx)("button",{type:"button",className:_.a.closeBtn,onClick:t,"aria-label":"Close",children:"\xd7"})}),Object(f.jsx)("div",{className:_.a.content,children:a})]})}),g)},x=a(14),I=a.n(x),S=function(e){var t=e.smallImage,a=e.largeImage,n=e.onClick,c=e.alt;return Object(f.jsx)("li",{className:I.a.ImageGalleryItem,children:Object(f.jsx)("img",{onClick:function(){return n(a)},src:t,alt:c,className:I.a.ImageGalleryItemImage})})},y=a(26),v=a.n(y),k=function(e){var t=e.hits,a=e.onClick;return Object(f.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e,t){var n=e.id,c=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(f.jsx)(S,{smallImage:c,largeImage:r,alt:o,onClick:a},n+t)}))})},w=a(27),B=a.n(w),C=a(28),N=a.n(C),G=function(){return Object(f.jsx)(B.a,{className:N.a.loader,type:"ThreeDots",color:"#3f51b5",height:120,width:120,timeout:3e3})},F=a(6),L=a.n(F),E=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(f.jsx)("header",{className:L.a.Searchbar,children:Object(f.jsxs)("form",{className:L.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(f.jsx)("button",{type:"submit",className:L.a.SearchFormButton,children:Object(f.jsx)("span",{className:L.a.SearchFormButtonLabel,children:"Search"})}),Object(f.jsx)("input",{className:L.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value)}})]})})},M=a(29),P=a.n(M),T=function(e){var t=e.onClick;return Object(f.jsx)("button",{type:"button",className:P.a.Button,onClick:t,children:Object(f.jsx)("span",{children:"Loade more"})})},U=a(30),R=a.n(U),D="none",K="open",W=function(){var e=Object(n.useState)(D),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),u=o[0],i=o[1],m=Object(n.useState)(1),b=Object(s.a)(m,2),h=b[0],j=b[1],p=Object(n.useState)(null),_=Object(s.a)(p,2),g=_[0],x=_[1],I=Object(n.useState)(""),S=Object(s.a)(I,2),y=S[0],v=S[1],w=Object(n.useState)(!1),B=Object(s.a)(w,2),C=B[0],N=B[1],F=Object(n.useState)(null),L=Object(s.a)(F,2),M=(L[0],L[1]);Object(n.useEffect)((function(){if(g){!function(){var e={currentPage:h,searchQuery:g};N(!0),d(e).then((function(e){i((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}))})).catch((function(e){return M(e.message)})).finally((function(){N(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}()}}),[h,g]);var P=u.length>0&&!C;return Object(f.jsxs)("div",{className:R.a.app,children:[Object(f.jsx)(E,{onSubmit:function(e){e!==g&&(x(e),j(1),i([]))}}),u.length>0&&Object(f.jsx)(k,{hits:u,onClick:function(e){c(K),v(e)}}),C&&Object(f.jsx)(G,{}),P&&Object(f.jsx)(T,{onClick:function(){return j((function(e){return e+1}))}}),a===K&&Object(f.jsx)(O,{onClose:function(){return c(D)},largeImage:y,children:Object(f.jsx)("img",{src:y,alt:""})})]})};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(W,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.55b99d4d.chunk.js.map